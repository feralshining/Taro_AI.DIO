<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì§ì‚¬ë‘ ì†ë§ˆìŒ íƒ€ë¡œ ë¦¬ë”</title>
  <style>
    body {
      font-family: "Nanum Gothic", sans-serif;
      background: linear-gradient(to bottom, #000035 0%, #4A437F 70%, #5C4DA0 100%);
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      color: #FAFAFF;
      text-align: center;
      overflow-x: hidden;
    }
    .container_tarot {
      max-width: 900px;
      margin: 0 auto;
      background: #ffffff0f;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(250, 250, 255, 0.1);
    }
    h2 {
      color: #FAFAFF;
      font-size: 28px;
      margin-bottom: 10px;
    }
    p.guide {
      color: #ccc;
      margin-bottom: 30px;
      font-size: 18px;
    }
    .tarot_area {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
    }
    .taroChoiceImg {
      perspective: 1000px;
    }
    .taroChoiceImg-inner {
      width: 90px;
      height: 140px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s ease;
    }
    .taroChoiceImg.selected .taroChoiceImg-inner {
      transform: rotateY(180deg);
    }
    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 12px;
      backface-visibility: hidden;
    }
    .card-back {
      background-image: url('https://img.daily.co.kr/www.daily.co.kr/unse/tarot/card_back_tarotheart.png?v=1&CDN=1');
      background-size: cover;
    }
    .card-front {
      background-color: #FAFAFF;
      transform: rotateY(180deg);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      color: #000035;
      border: 2px solid #aaa;
    }
    .btns {
      margin-top: 30px;
    }
    .btns input {
      padding: 12px 30px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #FAFAFF;
      color: #000035;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(255, 255, 255, 0.2);
    }
    #tarot_result {
      margin-top: 40px;
      display: none;
      animation: fadeIn 1s ease forwards;
      background: #ffffff0f;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(250,250,255,0.1);
      text-align: left;
    }
    #tarot_result dt {
      font-weight: bold;
      margin-top: 20px;
      color: #FAFAFF;
    }
    #tarot_result dd {
      margin: 10px 0 20px;
      line-height: 1.6;
      color: #FAFAFF;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <section class="container_tarot">
    <h2>ğŸ’œ ì§ì‚¬ë‘ ì†ë§ˆìŒ íƒ€ë¡œ ë¦¬ë”© ğŸ’œ</h2>
    <p class="guide">ì§ì‚¬ë‘ ì¤‘ì¸ ìƒëŒ€ë°©ì„ ë– ì˜¬ë¦¬ë©°<br><strong>ê°€ì¥ ëŒë¦¬ëŠ” ì¹´ë“œ 3ì¥</strong>ì„ ì„ íƒí•´ë³´ì„¸ìš”.</p>

    <div class="tarot_area" id="taroChoice"></div>

    <div class="btns">
      <input type="button" value="ë‹¤ì‹œ ì„ê¸° ğŸ”„" onclick="shuffle()">
    </div>

    <dl id="tarot_result">
      <dt>ğŸŒ™ ìƒëŒ€ë°©ì˜ ë§ˆìŒ í•œ ì¡°ê°</dt>
      <dd id="rtarot_cons"></dd>
      <dt>ğŸ–¼ï¸ ì´ë¯¸ì§€ ì† ì¥ë©´ì´ ì „í•˜ëŠ” ë¶„ìœ„ê¸°</dt>
      <dd id="rtarot_story"></dd>
      <dt>ğŸ“š ì¹´ë“œì˜ ìƒì§•</dt>
      <dd id="rtarot_define"></dd>
      <dt>âœ¨ ë§ˆìŒì„ ì½ëŠ” í‚¤ì›Œë“œ</dt>
      <dd id="rtarot_keyword"></dd>
    </dl>

    <script>
      const meanings = {
        1: { cons: "ìƒëŒ€ëŠ” ë‹¹ì‹ ì—ê²Œ í˜¸ê¸°ì‹¬ì„ ê°€ì§€ê³  ìˆì–´ìš”.", story: "ìƒˆë¡œìš´ ê´€ê³„ì˜ ê°€ëŠ¥ì„±ì„ íƒìƒ‰ ì¤‘ì…ë‹ˆë‹¤.", define: "ìˆœìˆ˜í•œ ì‹œì‘", keyword: "í˜¸ê¸°ì‹¬, ê°€ëŠ¥ì„±, ìƒˆì¶œë°œ" },
        2: { cons: "ìƒëŒ€ëŠ” ì¡°ìš©íˆ ë‹¹ì‹ ì„ ì§€ì¼œë³´ê³  ìˆìŠµë‹ˆë‹¤.", story: "ê°ì •ì„ ì‰½ê²Œ ë“œëŸ¬ë‚´ì§€ ì•Šì§€ë§Œ, ë‚´ë©´ì—” ê´€ì‹¬ì´ ìˆìŠµë‹ˆë‹¤.", define: "ì¹¨ë¬µ ì† ì§‘ì¤‘", keyword: "ê´€ì°°, ì¸ë‚´, ë¶„ì„" },
        3: { cons: "ìƒëŒ€ëŠ” ë‹¹ì‹ ê³¼ì˜ ê´€ê³„ì—ì„œ ì„±ì¥ì„ ê¸°ëŒ€í•˜ê³  ìˆìŠµë‹ˆë‹¤.", story: "í•¨ê»˜ë¼ë©´ ë” í° ë¬´ì–¸ê°€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ ê±°ë¼ ìƒê°í•´ìš”.", define: "ì°½ì¡°ì  í˜‘ë ¥", keyword: "í™•ì¥, ì†Œí†µ, ì´ìƒí–¥" },
        4: { cons: "ìƒëŒ€ëŠ” ê°ì •ì„ ë‹¨ë‹¨íˆ ìˆ¨ê¸°ê³  ìˆì–´ìš”.", story: "ë¶ˆì•ˆë³´ë‹¨ ì•ˆì •ì´ ìš°ì„ ì¸ ì‚¬ëŒì´ì—ìš”.", define: "í†µì œì™€ ì•ˆì •", keyword: "ë³´ìˆ˜ì„±, ìê¸°ë°©ì–´, ê±°ë¦¬ë‘ê¸°" },
        5: { cons: "ìƒëŒ€ëŠ” ì „í†µì ì¸ ë°©ì‹ì˜ ê´€ê³„ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.", story: "í˜¼ë€ìŠ¤ëŸ¬ìš´ ê°ì •ë³´ë‹¨, ëª…í™•í•œ ì—­í• ì„ ì¤‘ì‹œí•´ìš”.", define: "ì§ˆì„œì™€ ê·œë²”", keyword: "ì±…ì„ê°, ëª…í™•í•¨, ì‹ ì¤‘í•¨" },
        6: { cons: "ìƒëŒ€ëŠ” ë‹¹ì‹ ê³¼ì˜ ì¡°í™”ë¥¼ ìƒìƒí•˜ê³  ìˆì–´ìš”.", story: "ê°ì •ì˜ êµë¥˜ê°€ ì´ë¯¸ ì‹œì‘ë˜ì—ˆì–´ìš”.", define: "ê°ì •ì  ê· í˜•", keyword: "ì¡°í™”, ì´í•´, êµê°" },
        7: { cons: "ìƒëŒ€ëŠ” ì§€ê¸ˆ ê°ì •ë³´ë‹¨ ëª©í‘œì— ì§‘ì¤‘ ì¤‘ì…ë‹ˆë‹¤.", story: "ë‹¹ì‹ ì€ ê·¸ ì—¬ì •ì˜ í•œ ì¥ë©´ì¼ ìˆ˜ ìˆì–´ìš”.", define: "ì˜ì§€ì™€ ì¶”ì§„ë ¥", keyword: "ì „ì§„, ì§‘ì¤‘, ê±°ë¦¬" },
        8: { cons: "ìƒëŒ€ëŠ” ë‚´ë©´ì˜ ê°ˆë“±ìœ¼ë¡œ í˜¼ë€ìŠ¤ëŸ¬ì›Œìš”.", story: "ê°ì •ì˜ ê· í˜•ì´ ì•„ì§ ì¡íˆì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.", define: "ìš©ê¸°ì™€ ìê¸°ê·¹ë³µ", keyword: "ë‚´ë©´íˆ¬ìŸ, ì¡°ì ˆ, íšŒë³µì¤‘" },
        9: { cons: "ìƒëŒ€ëŠ” í˜„ì¬ ìì‹ ë§Œì˜ ì‹œê°„ì„ í•„ìš”ë¡œ í•´ìš”.", story: "ê´€ê³„ë³´ë‹¤ ìì•„ì— ì§‘ì¤‘í•˜ê³  ìˆì–´ìš”.", define: "ê³ ë… ì† ì„±ì°°", keyword: "ê±°ë¦¬ë‘ê¸°, ìˆ™ê³ , íšŒí”¼" },
        10: { cons: "ê´€ê³„ì— í° ì „í™˜ì ì´ ë‹¤ê°€ì˜¤ê³  ìˆì–´ìš”.", story: "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ê°€ ì›€ì§ì…ë‹ˆë‹¤.", define: "ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”", keyword: "ê¸°íšŒ, ì „í™˜, ìš°ì—°" },
        11: { cons: "ìƒëŒ€ëŠ” ê°ì •ë³´ë‹¨ ì´ì„±ì ìœ¼ë¡œ ê´€ê³„ë¥¼ ë³´ê³  ìˆì–´ìš”.", story: "ê³µí‰í•œ íŒë‹¨ ì†ì— ê°ì •ì„ ìˆ¨ê¸°ê³  ìˆì–´ìš”.", define: "ê· í˜•ê³¼ ê³µì •ì„±", keyword: "ì´ì„±, ì •ì˜, íŒë‹¨" },
        12: { cons: "ìƒëŒ€ëŠ” ì§€ê¸ˆ ë§ˆìŒì„ ë©ˆì¶”ê³  ìƒí™©ì„ ê´€ë§ ì¤‘ì´ì—ìš”.", story: "ë‹¹ì‹ ì„ ì–´ë–»ê²Œ ëŒ€í• ì§€ ê³ ë¯¼í•˜ê³  ìˆì–´ìš”.", define: "ìˆ˜ë™ì  í¬ìƒ", keyword: "ì •ì²´, ì¸ë‚´, ê³ ë ¤ì¤‘" },
        13: { cons: "ìƒëŒ€ì˜ ê°ì •ì€ ëë‚¬ì„ ìˆ˜ë„ ìˆì–´ìš”.", story: "í•˜ì§€ë§Œ ìƒˆë¡œìš´ ê´€ê³„ë¡œì˜ ê°€ëŠ¥ì„±ë„ ìˆì–´ìš”.", define: "ì¢…ë§ê³¼ ì¬íƒ„ìƒ", keyword: "ë³€í™”, ì¢…ë£Œ, ìƒˆì¶œë°œ" },
        14: { cons: "ê°ì •ì„ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ì¡°ìœ¨í•˜ê³  ìˆì–´ìš”.", story: "ì§€ê¸ˆì€ ì²œì²œíˆ ë‹¤ê°€ê°€ëŠ” ì¤‘ì…ë‹ˆë‹¤.", define: "ì¡°í™”ë¡œìš´ íë¦„", keyword: "ì¸ë‚´, ì¡°ì ˆ, ë¶€ë“œëŸ¬ì›€" },
        15: { cons: "ìƒëŒ€ëŠ” ìš•ë§ì´ë‚˜ ì§‘ì°©ì— í”ë“¤ë¦¬ê³  ìˆì–´ìš”.", story: "ê°ì •ì´ ìˆœìˆ˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì–´ìš”.", define: "ì†ë°•ê³¼ ìœ í˜¹", keyword: "ì§‘ì°©, ë¯¸ë ¨, ë¶ˆì•ˆì •" },
        16: { cons: "ì˜ˆê¸°ì¹˜ ëª»í•œ ìƒí™©ìœ¼ë¡œ ë§ˆìŒì´ ë¬´ë„ˆì¡ŒìŠµë‹ˆë‹¤.", story: "ì§€ê¸ˆì€ ìƒì²˜ íšŒë³µì˜ ì‹œê¸°ì˜ˆìš”.", define: "ë¶•ê´´ì™€ ì¬ì •ë¹„", keyword: "ìƒì‹¤, ì¬êµ¬ì„±, ì¶©ê²©" },
        17: { cons: "ë‹¹ì‹ ì—ê²Œ í¬ë§ì„ ê±¸ê³  ìˆì–´ìš”.", story: "ì„œì„œíˆ ë§ˆìŒì´ ì—´ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.", define: "í¬ë§ì˜ ì§•ì¡°", keyword: "ë¹›, ê¸°ëŒ€, ê¸ì •" },
        18: { cons: "ê°ì •ì´ í˜¼ë€ìŠ¤ëŸ½ê³  ëª…í™•í•˜ì§€ ì•Šì•„ìš”.", story: "ì§„ì‹¬ì´ ë¬´ì—‡ì¸ì§€ ìŠ¤ìŠ¤ë¡œë„ í—·ê°ˆë ¤ìš”.", define: "í™˜ìƒê³¼ ë¶ˆí™•ì‹¤ì„±", keyword: "í˜¼ëˆ, ì˜ì‹¬, ì§ê´€" },
        19: { cons: "ìƒëŒ€ëŠ” ë‹¹ì‹ ê³¼ì˜ ë°ì€ ë¯¸ë˜ë¥¼ ê¿ˆê¾¸ê³  ìˆì–´ìš”.", story: "í•¨ê»˜í•  ìˆ˜ ìˆë‹¤ëŠ” ê¸°ëŒ€ê°€ ì»¤ì§€ê³  ìˆì–´ìš”.", define: "ì„±ì·¨ì™€ ë”°ëœ»í•¨", keyword: "ì—´ì •, ê¸ì •, ê³µê°" },
        20: { cons: "ê³¼ê±°ë¥¼ ëŒì•„ë³´ë©° ë§ˆìŒì„ ì •ë¦¬ ì¤‘ì…ë‹ˆë‹¤.", story: "ìƒˆë¡œìš´ ê¸°íšŒì— ëŒ€í•œ ê°€ëŠ¥ì„±ì„ ì—´ì–´ë‘ê³  ìˆì–´ìš”.", define: "ë¶€í™œê³¼ ë°˜ì„±", keyword: "íšŒìƒ, ê¸°íšŒ, ìš©ì„œ" },
        21: { cons: "ë‹¹ì‹ ì€ ìƒëŒ€ì—ê²Œ ì™„ì„±ëœ ì‚¬ëŒì²˜ëŸ¼ ë³´ì—¬ìš”.", story: "ê·¸ëŠ” ë‹¹ì‹ ê³¼ì˜ ê´€ê³„ì— í° ì˜ë¯¸ë¥¼ ë‘¡ë‹ˆë‹¤.", define: "ì™„ì„±ëœ ì¡°í™”", keyword: "ê²°ì‹¤, ê°íƒ„, ì•ˆì •" },
        22: { cons: "ìƒëŒ€ëŠ” ì˜ˆì¸¡ ë¶ˆê°€í•œ íƒœë„ë¥¼ ë³´ì¼ ìˆ˜ ìˆì–´ìš”.", story: "ê°ì •ì˜ ë°©í–¥ì´ ì–´ë””ë¡œ íŠˆì§€ ëª°ë¼ìš”.", define: "ììœ ì™€ ê°€ëŠ¥ì„±", keyword: "ì¦‰í¥ì„±, ë‚™ê´€, ì˜ˆì™¸ì„±" }
      };

      const area = document.getElementById("taroChoice");
      for (let i = 1; i <= 22; i++) {
        const div = document.createElement("div");
        div.className = "taroChoiceImg";
        div.setAttribute("data-id", i);

        const inner = document.createElement("div");
        inner.className = "taroChoiceImg-inner";

        const back = document.createElement("div");
        back.className = "card-face card-back";

        const front = document.createElement("div");
        front.className = "card-face card-front";
        front.innerText = i;

        inner.appendChild(back);
        inner.appendChild(front);
        div.appendChild(inner);
        area.appendChild(div);
      }

      let selected = [];

      function createCards() {
        const area = document.getElementById("taroChoice");
        area.innerHTML = "";
        const ids = [...Array(22).keys()].map(i => i + 1).sort(() => Math.random() - 0.5);

        ids.forEach(i => {
          const div = document.createElement("div");
          div.className = "taroChoiceImg";
          div.setAttribute("data-id", i);

          const inner = document.createElement("div");
          inner.className = "taroChoiceImg-inner";

          const back = document.createElement("div");
          back.className = "card-face card-back";

          const front = document.createElement("div");
          front.className = "card-face card-front";
          front.innerText = i;

          inner.appendChild(back);
          inner.appendChild(front);
          div.appendChild(inner);
          area.appendChild(div);

          // âœ… ì—¬ê¸°ì„œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë°”ë¡œ ë“±ë¡
          div.addEventListener('click', () => {
            const id = parseInt(div.getAttribute('data-id'));
            if (selected.length >= 3 || selected.includes(id)) return;
            selected.push(id);
            div.classList.add('selected');

            if (selected.length === 3) {
              const last = selected[selected.length - 1];
              const result = meanings[last] || {};
              setTimeout(() => {
                document.getElementById('rtarot_cons').innerText = result.cons || '';
                document.getElementById('rtarot_story').innerText = result.story || '';
                document.getElementById('rtarot_define').innerText = result.define || '';
                document.getElementById('rtarot_keyword').innerText = result.keyword || '';
                document.getElementById('tarot_result').style.display = 'block';
              }, 1000);
            }
          });
        });
      }


      document.querySelectorAll('.taroChoiceImg').forEach(card => {
        card.addEventListener('click', () => {
          const id = parseInt(card.getAttribute('data-id'));
          if (selected.length >= 3 || selected.includes(id)) return;
          selected.push(id);
          card.classList.add('selected');

          if (selected.length === 3) {
            const last = selected[selected.length - 1];
            const result = meanings[last] || {};
            setTimeout(() => {
              document.getElementById('rtarot_cons').innerText = result.cons || 'ìƒëŒ€ë°©ì˜ ë§ˆìŒì„ ê°ì§€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤';
              document.getElementById('rtarot_story').innerText = result.story || '';
              document.getElementById('rtarot_define').innerText = result.define || '';
              document.getElementById('rtarot_keyword').innerText = result.keyword || '';
              document.getElementById('tarot_result').style.display = 'block';
            }, 1000);
          }
        });
      });

      function shuffle() {
        selected = [];
        document.getElementById('tarot_result').style.display = 'none';
        createCards();
      }
      window.onload = createCards();
    </script>
  </section>
</body>
</html>