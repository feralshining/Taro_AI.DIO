<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì—°ì•  íƒ€ë¡œ ë¦¬ë”© ìŠ¤í”„ë ˆë“œ</title>
  <style>
    body {
      font-family: "Nanum Gothic", sans-serif;
      background: linear-gradient(to bottom, #000035 0%, #4A437F 70%, #5C4DA0 100%);
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      color: #FAFAFF;
      text-align: center;
    }
    .container_tarot {
      max-width: 900px;
      margin: 0 auto;
      background: #ffffff0f;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(250, 250, 255, 0.1);
    }
    select {
      padding: 10px;
      font-size: 16px;
      margin: 10px;
      border-radius: 6px;
      border: none;
    }
    .tarot_area {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin-top: 20px;
    }
    .taroCard {
      width: 90px;
      height: 140px;
      perspective: 1000px;
    }
    .taroCard-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s ease;
    }
    .taroCard.flipped .taroCard-inner {
      transform: rotateY(180deg);
    }
    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 12px;
      backface-visibility: hidden;
    }
    .card-back {
      background: url('https://img.daily.co.kr/www.daily.co.kr/unse/tarot/card_back_tarotheart.png?v=1&CDN=1');
      background-size: cover;
    }
    .card-front {
      background-color: #FAFAFF;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      color: #000035;
      border: 2px solid #aaa;
      transform: rotateY(180deg);
    }
    .card-number {
      position: absolute;
      top: 5px;
      left: 5px;
      font-size: 14px;
      color: #000035;
    }
    .card-output {
      text-align: left;
      margin-top: 40px;
      background: #ffffff0f;
      padding: 30px;
      border-radius: 12px;
    }
    .card-output h4 {
      color: #FFD;
    }
    .card-output p {
      margin-bottom: 20px;
      color: #FAFAFF;
    }
  </style>
</head>
<body>
  <section class="container_tarot">
    <h2>ğŸ’˜ ì—°ì•  íƒ€ë¡œ ë¦¬ë”© ğŸ’˜</h2>
    <p>ì›í•˜ëŠ” ë¦¬ë”© ìŠ¤í”„ë ˆë“œë¥¼ ì„ íƒí•œ í›„ ì¹´ë“œë¥¼ ì§ì ‘ 1ì¥ì”© í´ë¦­í•´ ë½‘ì•„ì£¼ì„¸ìš”.</p>

    <select id="spreadSelect">
      <option value="checkin">Check-In (8ì¥)</option>
      <option value="compatibility">Compatibility (7ì¥)</option>
      <option value="aphrodite">Temple of Aphrodite (7ì¥)</option>
      <option value="bigpicture">Big Picture (3ì¥)</option>
    </select>

    <div class="tarot_area" id="cardArea"></div>
    <div class="card-output" id="cardResult"></div>
  </section>

  <script>
    const spreads = {
      checkin: [
        "What's the energy between us?",
        "How do I really feel about my partner?",
        "How do I feel when we're together?",
        "What's the greatest strength of this relationship?",
        "What's the biggest challenge we're going through?",
        "What does my partner need from me?",
        "What do I need from my partner?",
        "What steps can I take to tighten our bond?"
      ],
      compatibility: [
        "Your needs and desires in a relationship.",
        "Their needs and desires in a relationship.",
        "Your differences as two unique individuals.",
        "The common values and interests you two share.",
        "Your emotional compatibility as a couple.",
        "Your physical compatibility as a couple.",
        "Your overall compatibility as a couple."
      ],
      aphrodite: [
        "What you think about your partner.",
        "What your partner thinks about you.",
        "What you feel about the relationship.",
        "What your partner feels about the relationship.",
        "Your level of attraction to your partner.",
        "Your partner's level of attraction to you.",
        "Aphrodite's forecast for where your dynamic is going."
      ],
      bigpicture: [
        "What you want.",
        "What your partner wants.",
        "What your future looks like as a couple."
      ]
    };

    let selected = [];
    let selectedSpread = "checkin";
    let deck = [];

    function setupCards() {
      const cardArea = document.getElementById("cardArea");
      const cardResult = document.getElementById("cardResult");
      selected = [];
      cardArea.innerHTML = "";
      cardResult.innerHTML = "";

      const total = spreads[selectedSpread].length;
      deck = [...Array(22).keys()].map(i => i + 1).sort(() => Math.random() - 0.5);

      for (let i = 0; i < 22; i++) {
        const card = document.createElement("div");
        card.className = "taroCard";

        const inner = document.createElement("div");
        inner.className = "taroCard-inner";

        const back = document.createElement("div");
        back.className = "card-face card-back";

        const front = document.createElement("div");
        front.className = "card-face card-front";

        inner.appendChild(back);
        inner.appendChild(front);
        card.appendChild(inner);

        card.onclick = () => flipCard(card, front);
        cardArea.appendChild(card);
      }
    }

    function flipCard(card, front) {
      if (selected.length >= spreads[selectedSpread].length || card.classList.contains("flipped")) return;

      const number = deck.pop();
      card.classList.add("flipped");
      front.innerHTML = `<span class='card-number'>${number}</span>`;

      const qIndex = selected.length;
      selected.push(number);

      const resultBlock = document.createElement("div");
      resultBlock.innerHTML = `
        <h4>Card ${qIndex + 1}: ${spreads[selectedSpread][qIndex]}</h4>
        <p>ì¹´ë“œ ë²ˆí˜¸ ${number}ì— í•´ë‹¹í•˜ëŠ” í•´ì„ì„ ì—¬ê¸°ì— ì¶œë ¥í•©ë‹ˆë‹¤.</p>
      `;
      document.getElementById("cardResult").appendChild(resultBlock);
    }

    document.getElementById("spreadSelect").addEventListener("change", e => {
      selectedSpread = e.target.value;
      setupCards();
    });

    window.onload = setupCards;
  </script>
</body>
</html>